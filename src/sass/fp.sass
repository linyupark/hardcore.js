@import "normalize"
@import "fontello"

@import "gridle/settings"
@import "gridle/gridle"
@import "globals/color"
@import "globals/font"


// 项目变量
$tablet-max-width: 1400px
$tablet-min-width: 481px
$mobile-max-width: 480px
$mobile-min-width: 320px
$header-logo: (w: 50px, h: 50)
$border-radius: 5px

+gridle_setup((context: 14, gutter-width: 0, gutter-left: 0, gutter-right: 0))
+gridle_register_state(mobile, (min-width: $mobile-min-width, max-width: $mobile-max-width))
+gridle_register_state(tablet, (min-width: $tablet-min-width, max-width: $tablet-max-width))
+gridle_init()

// global
a
  text-decoration: none
  color: getColor(text, link)
button
  cursor: pointer
  border: none
  border-radius: $border-radius
:focus
  outline: none

// mixin
=focus-border($radius: $border-radius)
  border-radius: $radius
  box-shadow: 0 0 0 1px rgba(getColor(base, primary), .6) inset
=hover-bg($color)
  background-color: darken($color, 5%)
=hover-text($color)
  color: darken($color, 5%)
=focus-bg($color)
  background-color: lighten($color, 5%)
=focus-text($color)
  color: lighten($color, 5%)
=button-primary
  background: getColor(base, primary)
  color: getColor(text, primary-invert)
  &:hover
    +hover-bg(getColor(base, primary))
  &[disabled]
    background: rgba(getColor(base, primary), .3)
=input-text-primary($height: 34px, $padding: 5px 0 5px 10px)
  height: $height
  padding: $padding
  border-radius: $border-radius
  border: 1px solid getColor(border, input)
  &:focus
    background-color: getColor(background, focus)
    +focus-border()
=css-arrow($pos: 'top', $size: 5px, $color: #fff)
  &:after
    border: solid transparent
    content: " "
    height: 0
    width: 0
    position: absolute
    pointer-events: none
    border-width: $size
    @if $pos == 'top'
      bottom: 100%
      left: 50%
      margin-left: -$size
      border-bottom-color: $color
    @if $pos == 'bottom'
      top: 100%
      left: 50%
      margin-left: -$size
      border-top-color: $color
    @if $pos == 'left'
      top: 50%
      right: 100%
      margin-top: -$size
      border-right-color: $color
    @if $pos == 'right'
      top: 50%
      left: 100%
      margin-top: -$size
      border-left-color: $color

@-webkit-keyframes fadeInDown
  from
    opacity: 0
    -webkit-transform: translate3d(0, -30%, 0)
    transform: translate3d(0, -30%, 0)
  to
    opacity: 1
    -webkit-transform: none
    transform: none





.wrapper
  +gridle(row)
  min-width: $mobile-min-width
  max-width: $tablet-max-width
  margin: 0 auto

header
  // 登录页的header
  &.login
    background: getColor(background, body)
  .login-header
    +gridle(13 push 0.5)
  // 管理页的heander
  &.admin, &.user
    background: getColor(base, primary)
  .admin-header
    +gridle(row)
    height: 60px
    h1
      +gridle(11 push 0.5)
      height: 60px
      line-height: 60px
      color: getColor(text, primary-invert)
  h1
    +gridle_state(mobile)
      font-size: $font-m
    font-size: $font-l
    margin: 0
    text-indent: 65px
    height: 90px
    line-height: 90px
    background: url(../img/fp/header-logo.png) no-repeat left center
    color: getColor(gray, base)
  userinfo
    +gridle(1.5 pull 0.5 float right)
    // 用户信息
    .username
      min-width: 100px
      position: relative
      a
        margin-top: 10px
        height: 40px
        line-height: 40px
        text-align: center
        display: block
        font-size: $font-m
        color: getColor(text, primary-invert)
        &.active
          border-radius: $border-radius
          box-shadow: 0 1px 2px darken(getColor(base, primary), 15%) inset
          +hover-bg(getColor(base, primary))
      .menu
        display: none
        width: 100%
        position: absolute
        top: 30px
        text-align: center
        border-radius: $border-radius
        box-shadow: 0 1px 3px getColor(gray, lighter)
        background: getColor(background, body)
        animation: fadeInDown .3s
        &.active
          display: block
        +css-arrow('top')
        dd
          margin: 0
          border-bottom: 1px solid getColor(base, lines)
          &:last-child
            border: none
          a
            margin: 0
            width: 100%
            font-size: $font-s
            color: getColor(text, primary)
            &:hover
              background: none
              box-shadow: none
              color: getColor(text, link)

footer
  height: 90px
  .info
    +gridle(12 push 1)
    line-height: 150%
    font-size: $font-xs
    color: getColor(text, secondary)

.body
  overflow: hidden
  background: getColor(background, body)

// 登录页
.body.fp-login
  box-shadow: 0 2px 4px darken(getColor(base, lines), 10%) inset
  background: #F2EDEF
// 管理页
.body.admin
  box-shadow: 0 2px 4px darken(getColor(base, lines), 10%) inset
  background: #fff


// classes
.login-from
  +gridle(3.5 pull 1.4 float right)
  max-width: 350px
  min-width: 350px
  height: 320px
  border-radius: $border-radius
  box-shadow: 0 0 5px getColor(base, lines)
  background: getColor(background, body)
  margin: 140px 0
  +gridle_state(mobile)
    +gridle(14 pull 0 grid-centered)
    margin: 80px 0
  input
    margin: 10px 0 0 25px
    width: 290px
    +input-text-primary()
  .pwd-show, .pwd-hide
    width: 25px
    height: 25px
    position: absolute
    right: 35px
    top: 20px
    background-size: 25px 25px
    background-image: url(../img/fp/icon-close-eye.png)
    background-repeat: no-repeat
    background-position: center
  .pwd-show
    background-image: url(../img/fp/icon-eye.png)
  .msg-space
    font-size: $font-xs
    height: 1px
    text-align: center
  .btn-line
    button
      +button-primary()
      margin: 10px 0 0 25px
      width: 300px
      height: 44px
      line-height: 44px
    a
      color: getColor(text, link)
      font-size: $font-xs
      display: inline-block
      margin: 15px 0 0 270px
      &:hover
        +hover-text(getColor(text, link))
  .tab-line
    height: 50px
    margin: 0
    a
      float: left
      display: block
      width: 50%
      height: 48px
      line-height: 48px
      font-size: $font-m
      text-align: center
      color: getColor(text, secondary)
      border-bottom: 2px solid getColor(background, light)
      &.active
        color: getColor(text, primary)
        border-color: getColor(base, primary)




// component
header-nav
  ul
    padding: 0
    margin: 0
    height: 40px
    line-height: 40px
    li
      display: inline-block
      margin: 0 15px
      position: relative
      .sub
        background: #fff
        position: absolute
        border: 1px solid #ccc
        left: 0
        width: 100px
        height: auto
        li
          display: block

input-valid
  span
    color: getColor(state, error)
